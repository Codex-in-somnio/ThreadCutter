# ThreadCutter

A VST plugin that automatically detects and cuts unwanted sound.

## How to use

### Installation

Get the newest binary from [Releases](https://github.com/k9yyy/ThreadCutter/releases), pick an appropriate version, and load it into your VST host.

### Basic operation

After plugin is enabled:

1. Select an  approximately 100-millisecond long noise sample, and play it in looped mode. While the sample is playing, click "Capture sample *N*" button to capture it into the plugin.

2. Check the "Enabled" checkbox to enable the captured sample for sound detection.

3. Adjust the threshold slider so that only close-enough matches triggers mute.

Note: Currently it is only best optimized for 44100 Hz sample rate.

### Save and load

In addition to saving and loading as presets in your VST host, ThreadCutter also allows you to save to and load from JSON formatted files. Therefore you can save and load across different VST hosts.

## How it works

(To be improved...)

* Matching score is calculated based on MFCC distance and spectrum power product sum.

* When multiple samples are used, largest score will be the final score.

* When the final score surpasses the threshold set by user, mute is triggered. 

## Build from source

Visual Studio 2017 project files are under `Builds/VisualStudio2017/`. For other toolchains, project files may be generated by ProJucer using `ThreadCutter.jucer`.

To build VST2 target, VST2 SDK must be separately obtained first.

## External libraries

External libraries under `ExternalCode`:

- `picojson.h`: <https://github.com/kazuho/picojson> (2-Clause BSD License)
- `spline.h`: <https://kluge.in-chemnitz.de/opensource/spline/> (GPL v2.0)
- `FftComplex.hpp`, `FftComplex.cpp`, `FftRealPair.hpp`,  `FftRealPair.cpp`: <https://www.nayuki.io/page/free-small-fft-in-multiple-languages> (MIT License)
- `FastDctFft.hpp`, `FastDctFft.cpp`: <https://www.nayuki.io/page/fast-discrete-cosine-transform-algorithms> (MIT License)

## To-do

* Add more adjustable parameters to GUI;
* Performance tuning;
* Clean-up code.